{% verbatim %}
<!----------------------------  故事板 ----------------------------->
<!-- 新动作按钮 -->
<script type="text/x-template" id="newAction-btn">
    <div style="font-size: 1.2rem" @mouseenter="toggle_show" @mouseleave="toggle_hide">
        <div style="background-color: gray" v-show="!opened"><b>添加新行动...</b></div>
        <button style="font-size: 1.2rem" v-show="opened" v-for="iter in action_types" :key="iter.type_name" @click="addAction(iter.type_name)">{{iter.display_name}}</button>
    </div>
</script>

<!-- 故事板编辑 -->
<script type="text/x-template" id="panel-storyline">
    <div class="panel-storyline">
        <h3>故事板</h3>
        <action v-for="(action, index) in ed_data.sl_data.actions" 
            :action="action"
            :action_types="action_types"
            :ed_data="ed_data"></action>
        <newAction-btn v-bind:action_types=action_types
            :ed_data=ed_data>+</newAction-btn>
    </div>
</script>

<!-- 行动元素 -->
<script type="text/x-template" id="id-action">
    <div class="elem-action" v-bind:class="selected?'action-selected':''" 
    @click="onSelected">
        <p>{{display_name}}<button @click="remove">删除</button></p>
        <component v-bind:action="action" :is="'action-' + action.type_name.toLowerCase()"></component>
    </div>
</script>

<!---------------------------- 行动编辑 ---------------------------->
<script type="text/x-template" id="action-editor">
    <div class=panel-action>
        <div>
            <b> 行动属性 </b>
            <div>
                <label for="id_ed">id:</label> 
                <input v-if="action!=null" id="id_ed" type="text" v-model="action.id" />
            </div>
            <div>
                <label for="next_ed">跳转动作id:</label> 
                <input v-if="action!=null" id="next_ed" type="text" v-model="action.next_id" />
            </div>
        </div>
        <hr>
        <div>
            <b>触发列表</b>
            <div>
                <button>新触发+：</button>
            </div>
        </div>
        <hr>
        <component v-if="action!=null" v-bind:action="action" :is="'ed-' + action.type_name.toLowerCase()"></component>
    </div>
</script>

<!-------------  动作分类 --------------->
<!-- 单句 -->
<script type="text/x-template" id="ed-sentence">
    <div>
        <div>
            <label for="id_avatar">角色</label>
            <input type="text" id="id_avatar" v-model="action.avatar" />
        </div>
        <div>
            <label for="id_text">内容</label>
            <textarea type="text" id="id_text" v-model="action.text"></textarea>
        </div>
    </div>
</script>
<script type="text/x-template" id="sl-sentence">
    <div>
        <pre><p>{{action.avatar}}:{{action.text}}</p></pre>
    </div>
</script>

<!-- 对话 -->
<script type="text/x-template" id="ed-dialog">
    <div>
        <div>
            <label for="id_pretext">脚本</label>
            <textarea type="text" id="id_pretext" v-model="action.text"></textarea>
        </div>
    </div>
</script>
<script type="text/x-template" id="sl-dialog">

</script>


<script type="text/x-template" id="ed-decision">
    <div>
        <p>{{action}}</p>
    </div>
</script>
<script type="text/x-template" id="sl-decision">
</script>


<script type="text/x-template" id="ed-game">
    <div>
        <p>{{action}}</p>
    </div>
</script>
<script type="text/x-template" id="sl-game">
</script>
{% endverbatim %}